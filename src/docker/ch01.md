## 도커란 무엇인가?

### 도커는 '데이터 또는 프로그램을 격리시키는' 기능을 제공한다. 

`도커`를 한마디로 정의하면 **데이터 또는 프로그램을 격리시키는 기능**을 제공하는 소프트웨어다.

클라이언트 컴퓨터에서도 사용할 수는 있지만 현 시점에서는 서버에서 사용하는 것이 주 용도다.

### 컨테이너와 도커 엔진

개인용 컴퓨터 또는 서버 상의 환경을 마치 코스트코에서 판매하는 조립형 창고 같은 작은방으로 분할하고 독립된 창고에 데이터나 프로그램을 둔다고 해보자.

이 조립형 창고를 `컨테이너`라고 한다. 그리고 이 **컨테이너를 다루는 기능을 제공하는 소프트웨어**가 **도커**다.

도커를 사용하기 위해서는 도커 소프트웨어의 본체인 `도커 엔진`을 설치해야 한다. 그리고 도커 엔진을 사용해 컨테이너를 생성하고 구동시킬 수 있다.

### 컨테이너를 만들려면 이미지가 필요하다.

위에서 **도커 엔진**이 있어야 컨테이너를 만들 수 있다고 말했다.

그러나 컨테이를 만들려면 도커 엔진 외에도 컨테이너의 빵틀과도 같은 역할을 할 `이미지`가 필요하다.

컨테이너는 여러 개를 만들 수 있다. 용량이 허락하는 한 **하나의 도커에서 여러 개를 만들 수 있다**.

#### Docker image?

**Docker image는 파일로 어플리케이션 실행에 필요한 독립적인 환경을 포함**하며, 런타임 환경을 위한 일종의 템플릿이다.

**Docker image는 소스코드, 라이브러리, 종속성, 도구 및 응용 프로그램을 실행하는데 필요한 기타 파일을 포함하는 불변 파일**이다.

### 도커는 리눅스 컴퓨터에서 사용한다.

도커를 사용하는데 몇 가지 제약사항이 있다.

종류와 상관없이 **리눅스 운영체제가 필요**하다. 윈도우나 masOS에서도 도커를 구동할 수는 있지만

이 경우 **내부적으로 리눅스가 사용된다**.

또, **컨테이너에서 동작시킬 프로그램도 리눅스용 프로그램**이다.

이는 도커가 리눅스 운영체제에서 사용하는 것을 전제로 만들어졌기 때문이다.

### 데이터나 프로그램을 독립된 환경에 격리해야 하는 이유

대부분의 프로그램은 단독으로 동작하는 것이 아니라, 어떤 실행 환경이나 라이브러리, 다른 프로그램을 이용해 동작한다.

이 때문에 프로그램 하나를 업데이트하면 다른 프로그램에 영향을 미치게 된다.

시스템 A와 B가 있다고 가정해보자, 두 프로그램이 C라는 프로그램과 연동되는 상황이라고 했을 때

시스템 A는 C의 5.0버전에서만 동작하는데 B시스템을 위해 C프로그램을 8.0 버전으로 업데이트했다면? 시스템 A는 동작하지 않을 것 이다.

#### 프로그램의 격리란

도커 컨테이너는 **다른 컨테이너와 완전히 분리된 환경**이라고 설명했다. 컨테이너 안에 들어있는 프로그램은 다른 프로그램과 격리된 상태가 된다.

도커 컨테이너를 사용해 프로그램을 격리하면 여러 프로그램이 한 서버에서 실행되면서 발생하는 문제 대부분을 해결할 수 있다.

위에서 예시를 들었던 상황에서는, (시스템A와 프로그램C 5.0버전), (시스템B와 프로그램C 8.0 버전) 이런식으로 세트를 묶어 따로 격리하면 된다.

## 서버와 도커

### 서버의 두 가지 의미

`서버`란 이름 그대로 **어떤 서비스(service)를 제공(serve)하는 것**을 가리킨다.

**서버**라는 용어는 두 가지 의미를 갖는데 **기능적 의미의 서버**와 **물리적 컴퓨터로서의 서버**다.

흔히 들을 수 있는 표현인 "웹서버가 죽었다", "메일 서버가 죽었다", "DB 서버가 죽었다" 등에서 말하는 서버가 **기능적 의미의 서버**를 가리키고

"창고에 있는 서버좀 치워라", "서버에 랜케이블이 빠졌다" 같은 상황에서 가리키는 서버가 물리적 컴퓨터로서의 서버, 즉 **실물**을 말한다.

서버라고 하면 뭔가 특별하고 복잡할 것 같지만 일반적인 컴퓨터와 다를것이 없다.

**개인용 컴퓨터는 개인이 사용**, **서버는 여러 사람이 원격으로 접근해 사용**한다는 점만 다를 뿐이다.

### 서버의 기능은 소프트웨어가 제공한다.

**서버의 기능은 소프트웨어가 제공한다**. 즉 소프트웨어를 설치하면 `서버`의 기능을 갖게 된다.

예를 들어 아파치 같은 웹 서버 소프트웨어를 설치하면 `웹 서버` 기능을 갖추게 되고

SendMail 같은 메일 서버 소프트웨어를 설치하면 `메일 서버`가 된다.

서버의 기능은 소프트웨어가 제공한다 라는 말은 **여러 가지 소프트웨어를 한 컴퓨터에 설치할 수도 있다** 라는 말이다.

웹 서버와 메일 서버, FTP 서버를 한 컴퓨터에서 제공하는 경우는 흔하고, 시스템 서버와 DB서버가 함께 동작하기도 한다.

즉 `여러 기능적 의미의 서버`가 `하나의 물리적 컴퓨터`에 **함께 존재할 수 있는 것**이다. 

### 자유로이 옮길 수 있는 컨테이너

`컨테이너`는 자유로이 옮길 수 있다.

실제로는 컨테이너 자체를 옮긴다기보다는 컨테이너의 정보를 내보낸다음, 다른 도커 엔진에서 복원하는 형태지만,

컨테이너를 어떤 도커 엔진에서 다른 도커 엔진으로 옮기는 것은 어려운 일이 아니다.

`도커`를 이용하면 **물리적 환경차이, 서버 구성의 차이를 무시**할 수 있으므로 운영서버와 개발 서버의 환경 차이로 인한 문제를 원천적으로 방지할 수 있다.
